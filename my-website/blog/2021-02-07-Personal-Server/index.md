---
title: "개인 서버 구축"
authors: [karais89]
tags: [server]
---

기본적인 세팅(리눅스 설치 및 ssh 설정) 자체는 20년 4월에 이미 완료한 이후로 작성한 포스팅이라 자세한 내용은 다루지 않음. 서버 구축 과정 중 발생할 수 있는 부분 및 과정을 계속해서 업데이트 할 예정이긴 하지만, 실제 구축이후는 잘 활용하지 않아 포스팅이 업데이트 될지는 미지수..

# 개요

- 개인용 서버가 있으면 좋겠다는 생각을 함. (이미지 서버, 파일 서버, 웹 서버, 게임 서버 등)
- 서버 구축의 경우 aws나 azure 등을 사용하는 것이 가장 간단히 구축할 수 있는 방법.
- 클라우드 서버의 경우 요금 압박이 있는 부분이 있어, 자유롭게 개발 가능한 PC를 구매하는게 좋겠다는 좋겠다고 생각함.
- 어느정도의 성능 + 서버 구축의 재미(a-z까지의 구축)를 위해 개발 서버용 컴퓨터 구입

# 구매

- 20년 4월에 위메프에서 8만 5천원에 m72e Tiny 구입
    - 사양은 아래와 같다.
        - 인텔 코어 i3-3220T 2.8GHz
        - 4GB
        - SSD64G
        - DP 포트 + USB 2.0
- 주문이 많이 밀린 상태라 배송까지 10일까지 걸림.
- 배송 완료 후 부팅 및 기본 점검 진행. SSD 128GB로 변경 및 램 4GB를 추가.

# 세팅

- 개인 서버 구축의 경우 세팅해야 되는 부분들도 많고, 보안 문제도 발생할 수 있어. 필요한 프로그램만 설치하고, 외부 접속 설정등에 주의 해야 되는 부분들이 많다.
- 개인 서버 구축의 경우 우분투를 사용하여 구축하였고, SSH 설정을 통하여 내부 PC에서 접속 가능하게 (Putty) 하고 그 이후에는 다른 PC에서 ssh를 통해 접속해서 작업을 진행하는 방식으로 진행.
- 보안 문제 등으로 처음에는 공개키, 암호화 방식으로만 접근 가능하게 만듬. 하지만 접속 방법이 까다롭고, 외부 접속을 허용할 계획이 없어, 비밀번호 접근 방식으로 다시 변경.
    - 윈도우(클라이언트)에 개인키, 공개키 만들고 우분투 서버에 공개키를 저장함.
- ssh 접속시 원래는 putty를 사용하였는데, MobaXterm이란 프로그램이 조금 더 활용도가 높은 것으로 보여 해당 프로그램을 사용할 예정 (putty보다 더 다양한 기능들을 제공함)

# 할일

## 필수

- [x]  우분투 18.04.4 LTS 설치
- [x]  SSH Server 설치
- [x]  고정 IP 설정
- [x]  MobaXterm 설치 및 접속 확인
- [ ]  Nginx 설치
- [ ]  MySQL 설치

## 옵션

- [ ]  python
- [ ]  docker
- [ ]  node.js
- [ ]  워드프레스
- [ ]  code-server
- [ ]  WOL 기능 설정
- [ ]  포트포워딩 설정 (외부 접속 필요시)

# 개인 서버 세팅 과정 정리

# 우분투 명령어

### 우분투 메이저 버전 업그레이드

```bash
sudo apt update
sudo apt upgrade
sudo apt dist-upgrade
sudo do-release-upgrade
```

### 종료

```bash
# 지금 즉시 종료
sudo shutdown -h now

# 시스템 재부팅
sudo reboot
```

### 방화벽 설정

```bash
# 방화벽 상태
sudo ufw status verbose

# 방화벽 활성화/비활성화
sudo ufw enable
sudo ufw disable

# 포트 22번 허용
sudo ufw allow 22
# 포트 22번 tcp만 허용
sudo ufw allow 22/tcp
# 포트 22번 udp만 허용
sudo ufw allow 22/udp
```

# 참고