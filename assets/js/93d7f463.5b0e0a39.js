"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4778],{3905:(t,e,n)=>{n.d(e,{Zo:()=>u,kt:()=>m});var a=n(67294);function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e){if(null==t)return{};var n,a,i=function(t,e){if(null==t)return{};var n,a,i={},r=Object.keys(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var c=a.createContext({}),s=function(t){var e=a.useContext(c),n=e;return t&&(n="function"==typeof t?t(e):o(o({},e),t)),n},u=function(t){var e=s(t.components);return a.createElement(c.Provider,{value:e},t.children)},b={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},S=a.forwardRef((function(t,e){var n=t.components,i=t.mdxType,r=t.originalType,c=t.parentName,u=l(t,["components","mdxType","originalType","parentName"]),S=s(n),m=i,h=S["".concat(c,".").concat(m)]||S[m]||b[m]||r;return n?a.createElement(h,o(o({ref:e},u),{},{components:n})):a.createElement(h,o({ref:e},u))}));function m(t,e){var n=arguments,i=e&&e.mdxType;if("string"==typeof t||i){var r=n.length,o=new Array(r);o[0]=S;var l={};for(var c in e)hasOwnProperty.call(e,c)&&(l[c]=e[c]);l.originalType=t,l.mdxType="string"==typeof t?t:i,o[1]=l;for(var s=2;s<r;s++)o[s]=n[s];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}S.displayName="MDXCreateElement"},22387:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>c,contentTitle:()=>o,default:()=>b,frontMatter:()=>r,metadata:()=>l,toc:()=>s});var a=n(87462),i=(n(67294),n(3905));const r={title:"StateMachineBehaviour\uc5d0\uc11c Animator\ub97c \uac10\uc2dc\ud558\uc790",authors:["karais89"],tags:["unity3d","unirx"]},o=void 0,l={permalink:"/2019/10/05/UniRx-StateMachineBehaviour-Animator",editUrl:"https://github.com/karais89/karais89.github.io/tree/main/my-website/blog/2019-10-05-UniRx-StateMachineBehaviour-Animator/index.md",source:"@site/blog/2019-10-05-UniRx-StateMachineBehaviour-Animator/index.md",title:"StateMachineBehaviour\uc5d0\uc11c Animator\ub97c \uac10\uc2dc\ud558\uc790",description:"\ud658\uacbd",date:"2019-10-05T00:00:00.000Z",formattedDate:"2019\ub144 10\uc6d4 5\uc77c",tags:[{label:"unity3d",permalink:"/tags/unity-3-d"},{label:"unirx",permalink:"/tags/unirx"}],readingTime:7.725,hasTruncateMarker:!1,authors:[{name:"karais89",title:"Game Developer",url:"https://github.com/karais89",imageURL:"https://github.com/karais89.png",key:"karais89"}],frontMatter:{title:"StateMachineBehaviour\uc5d0\uc11c Animator\ub97c \uac10\uc2dc\ud558\uc790",authors:["karais89"],tags:["unity3d","unirx"]},prevItem:{title:"ObserveEveryValueChanged \ud504\ub808\uc784\uac04\uc5d0 \uac12\uc758 \ubcc0\ub3d9\uc744 \uac10\uc2dc\ud558\uc790",permalink:"/2019/10/05/UniRx-ObservableValueChanged"},nextItem:{title:"Animator\uc758 Trigger\ub97c Bool\uc744 \uc0ac\uc6a9\ud558\uc5ec \uc7ac\ud604\ud558\uc790",permalink:"/2019/09/30/UniRx-Animator-Trigger-Bool"}},c={authorsImageUrls:[void 0]},s=[{value:"\ud658\uacbd",id:"\ud658\uacbd",level:2},{value:"StateMachineBehaviour\ub294",id:"statemachinebehaviour\ub294",level:2},{value:"StateMachineBehaviour \uc0ac\uc6a9",id:"statemachinebehaviour-\uc0ac\uc6a9",level:2},{value:"(\uc5ec\ub2f4) UniRx\ub97c \uc0ac\uc6a9\ud558\uc5ec Observable\ub85c \uc0c1\ud0dc \ubcc0\ud654\ub97c \ubaa8\ub2c8\ud130\ub9c1 \ud560 \uc218 \uc788\ub3c4\ub85d \ud588\ub2e4",id:"\uc5ec\ub2f4-unirx\ub97c-\uc0ac\uc6a9\ud558\uc5ec-observable\ub85c-\uc0c1\ud0dc-\ubcc0\ud654\ub97c-\ubaa8\ub2c8\ud130\ub9c1-\ud560-\uc218-\uc788\ub3c4\ub85d-\ud588\ub2e4",level:2},{value:"UniRx\uc5d0\uc11c \uc0c1\ud0dc \ubcc0\ud654\ub97c \uc81c\uc5b4\ud574 \ubcf4\uc790",id:"unirx\uc5d0\uc11c-\uc0c1\ud0dc-\ubcc0\ud654\ub97c-\uc81c\uc5b4\ud574-\ubcf4\uc790",level:2},{value:"\uc5ed\uc8fc: \ucd94\uac00\ub0b4\uc6a9 (19.09.28)",id:"\uc5ed\uc8fc-\ucd94\uac00\ub0b4\uc6a9-190928",level:2},{value:"\ucc38\uace0",id:"\ucc38\uace0",level:2},{value:"\uc0ac\uc6a9\ud55c \uac83",id:"\uc0ac\uc6a9\ud55c-\uac83",level:2}],u={toc:s};function b(t){let{components:e,...r}=t;return(0,i.kt)("wrapper",(0,a.Z)({},u,r,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"\ud658\uacbd"},"\ud658\uacbd"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"macOS Mojave v10.14.6"),(0,i.kt)("li",{parentName:"ul"},"Unity 2019.2.5f1"),(0,i.kt)("li",{parentName:"ul"},"Github Desktop"),(0,i.kt)("li",{parentName:"ul"},"Rider 2019.2"),(0,i.kt)("li",{parentName:"ul"},"UniRx v7.1.0")),(0,i.kt)("p",null,"\uc6d0\ubb38 : ",(0,i.kt)("a",{parentName:"p",href:"https://qiita.com/toRisouP/items/b6540b7f514d18b9a426"},"https://qiita.com/toRisouP/items/b6540b7f514d18b9a426")),(0,i.kt)("p",null,"\uc774 \ud3ec\uc2a4\ud305\uc740 \uc6d0\ubb38\uc744 \ub2e8\uc21c\ud788 \uad6c\uae00 \ubc88\uc5ed\uc744 \ud558\uc5ec \uc815\ub9ac\ud55c \ub0b4\uc6a9\uc785\ub2c8\ub2e4. \uc77c\ubcf8\uc5b4\ub97c \uc798\ud558\uc2dc\ub294 \ubd84\uc740 \uc6d0\ubb38\uc744 \ubcf4\uc2dc\ub294\uac8c \ub354 \uc88b\uc73c\uc2e4 \uac83 \uac19\uc2b5\ub2c8\ub2e4. "),(0,i.kt)("p",null,"UniRx\uc5d0 \ub300\ud55c \uae30\uc0ac \uc694\uc57d\uc740 ",(0,i.kt)("a",{parentName:"p",href:"https://qiita.com/toRisouP/items/48b9fa25df64d3c6a392"},"\uc5ec\uae30")),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"statemachinebehaviour\ub294"},"StateMachineBehaviour\ub294"),(0,i.kt)("p",null,"Unity5 \uc774\uc0c1 \ubc84\uc804 \ubd80\ud130 AnimatorController\uc5d0 \ubd99\uc77c \uc218 \uc788\ub294 StateMachineBehaviour \uc2a4\ud06c\ub9bd\ud2b8\uac00 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),(0,i.kt)("p",null,"\uc774 StateMachineBehaviour\ub294 Animator \uc0c1\ud0dc \uba38\uc2e0\uc758 \uc0c1\ud0dc \ubcc0\ud654\uc5d0 \ub9de\uac8c CallBack \ud568\uc218\ub97c \uc2e4\ud589\ud574\uc8fc\ub294 \ubc29\uc2dd\uc73c\ub85c \uad6c\uc131\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4."),(0,i.kt)("p",null,"StateMachineBehaviour \uc0d8\ud50c"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-csharp"},"using UnityEngine;\n\npublic class StateMachineExample : StateMachineBehaviour\n{\n    public override void OnStateEnter(Animator animator, AnimatorStateInfo stateInfo, int layerIndex)\n    {\n        // \uc0c8\ub85c\uc6b4 \uc0c1\ud0dc\ub85c \ubcc0\ud560 \ub54c \uc2e4\ud589\n    }\n\n    public override void OnStateUpdate(Animator animator, AnimatorStateInfo stateInfo, int layerIndex)\n    {\n        // \ucc98\uc74c\uacfc \ub9c8\uc9c0\ub9c9 \ud504\ub808\uc784\uc744 \uc81c\uc678\ud55c \uac01 \ud504\ub808\uc784 \ub2e8\uc704\ub85c \uc2e4\ud589\n    }\n\n    public override void OnStateExit(Animator animator, AnimatorStateInfo stateInfo, int layerIndex)\n    {\n        // \uc0c1\ud0dc\uac00 \ub2e4\uc74c \uc0c1\ud0dc\ub85c \ubc14\ub00c\uae30 \uc9c1\uc804\uc5d0 \uc2e4\ud589\n    }\n\n    public override void OnStateMove(Animator animator, AnimatorStateInfo stateInfo, int layerIndex)\n    {\n        // MonoBehaviour.OnAnimatorMove \uc9c1\ud6c4\uc5d0 \uc2e4\ud589\n    }\n\n    public override void OnStateIK(Animator animator, AnimatorStateInfo stateInfo, int layerIndex)\n    {\n        // MonoBehaviour.OnAnimatorIK \uc9c1\ud6c4\uc5d0 \uc2e4\ud589\n    }\n\n    public override void OnStateMachineEnter(Animator animator, int stateMachinePathHash)\n    {\n        // \uc2a4\ud06c\ub9bd\ud2b8\uac00 \ubd80\ucc29\ub41c \uc0c1\ud0dc \uae30\uacc4\ub85c \uc804\ud658\uc774 \uc654\uc744\ub54c \uc2e4\ud589\n    }\n\n    public override void OnStateMachineExit(Animator animator, int stateMachinePathHash)\n    {\n        // \uc2a4\ud06c\ub9bd\ud2b8\uac00 \ubd80\ucc29\ub41c \uc0c1\ud0dc \uae30\uacc4\uc5d0\uc11c \ube60\uc838\ub098\uc62c\ub54c \uc2e4\ud589\n    }\n}\n")),(0,i.kt)("h2",{id:"statemachinebehaviour-\uc0ac\uc6a9"},"StateMachineBehaviour \uc0ac\uc6a9"),(0,i.kt)("p",null,"StateMachineBehaviour\ub294 \ubcf4\ud1b5\uc758 Component\uc640 \ub2ec\ub9ac Animator \ub808\uc774\uc5b4\uc5d0 \ubd99\uc5ec \uc0ac\uc6a9\ud569\ub2c8\ub2e4."),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(32610).Z,width:"1750",height:"1042"})),(0,i.kt)("p",null,"\uc77c\ubc18 MonoBehaviour \uc2a4\ud06c\ub9bd\ud2b8\uc5d0\uc11c \ud638\ucd9c\ud560\ub54c\ub294 \uc544\ub798\uc640 \uac19\uc740 \ubc29\ubc95\uc73c\ub85c Animator\uc758 GetBehaviour\uc744 \ud638\ucd9c\ud558\uc5ec \uac00\uc838 \uc635\ub2c8\ub2e4."),(0,i.kt)("p",null,"StateMachineBehaviour\uc758 \ucde8\ub4dd \ubc29\ubc95"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-csharp"},"private Animator _animator;\nprivate StateMachineExample _stateMachineExample;\n\nvoid Start()\n{\n    _animator = GetComponent<Animator>();\n    _stateMachineExample = _animator.GetBehaviour<StateMachineExample>();\n}\n")),(0,i.kt)("br",null),(0,i.kt)("h2",{id:"\uc5ec\ub2f4-unirx\ub97c-\uc0ac\uc6a9\ud558\uc5ec-observable\ub85c-\uc0c1\ud0dc-\ubcc0\ud654\ub97c-\ubaa8\ub2c8\ud130\ub9c1-\ud560-\uc218-\uc788\ub3c4\ub85d-\ud588\ub2e4"},"(\uc5ec\ub2f4) UniRx\ub97c \uc0ac\uc6a9\ud558\uc5ec Observable\ub85c \uc0c1\ud0dc \ubcc0\ud654\ub97c \ubaa8\ub2c8\ud130\ub9c1 \ud560 \uc218 \uc788\ub3c4\ub85d \ud588\ub2e4"),(0,i.kt)("p",null,"\ucf5c\ubc31 \uadf8\ub300\ub85c \uc0ac\uc6a9\ud558\ub294 \uac83\uc740 \uc870\uae08 \ubd88\ud3b8\ud55c \ubd80\ubd84\uc774 \uc788\uc5b4\uc11c, ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/neuecc/UniRx"},"UniRx"),"\ub97c \uc0ac\uc6a9\ud558\uc5ec \ucf5c\ubc31\uc744 Observable\ub85c \ubcc0\ud658 \ud574\uc11c \uc0ac\uc6a9 \ud569\ub2c8\ub2e4."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-csharp"},"using System;\nusing UniRx;\nusing UnityEngine;\n\npublic class StateMachineObservables : StateMachineBehaviour\n{\n    #region OnStateEnter\n    private Subject<AnimatorStateInfo> onStateEnterSubject = new Subject<AnimatorStateInfo>();\n\n    public IObservable<AnimatorStateInfo> OnStateEnterObservable => onStateEnterSubject;\n\n    public override void OnStateEnter(Animator animator, AnimatorStateInfo stateInfo, int layerIndex)\n    {\n        onStateEnterSubject.OnNext(stateInfo);\n    }\n    #endregion\n    \n    #region OnStateExit\n    private Subject<AnimatorStateInfo> onStateExitSubject = new Subject<AnimatorStateInfo>();\n\n    public IObservable<AnimatorStateInfo> OnStateExitObservable => onStateExitSubject;\n\n    public override void OnStateExit(Animator animator, AnimatorStateInfo stateInfo, int layerIndex)\n    {\n        onStateExitSubject.OnNext(stateInfo);\n    }\n    #endregion\n\n    #region OnStateMachineEnter\n    private Subject<int> onStateMachineEnterSubject = new Subject<int>();\n\n    public IObservable<int> OnStateMachineEnterObservable => onStateMachineEnterSubject;\n\n    public override void OnStateMachineEnter(Animator animator, int stateMachinePathHash)\n    {\n        onStateMachineEnterSubject.OnNext(stateMachinePathHash);\n    }\n    #endregion\n    \n    #region OnStateMachineExit\n    private Subject<int> onStateMachineExitSubject = new Subject<int>();\n\n    public IObservable<int> OnStateMachineExitObservable => onStateMachineExitSubject;\n\n    public override void OnStateMachineExit(Animator animator, int stateMachinePathHash)\n    {\n        onStateMachineExitSubject.OnNext(stateMachinePathHash);\n    }\n    #endregion\n    \n    #region OnStateMove\n    private Subject<AnimatorStateInfo> onStateMoveSubject = new Subject<AnimatorStateInfo>();\n\n    public IObservable<AnimatorStateInfo> OnStateMoveObservable => onStateMoveSubject;\n\n    public override void OnStateMove(Animator animator, AnimatorStateInfo stateInfo, int layerIndex)\n    {\n        onStateMoveSubject.OnNext(stateInfo);\n    }\n    #endregion\n    \n    #region OnStateIK\n    private Subject<AnimatorStateInfo> onStateIKSubject = new Subject<AnimatorStateInfo>();\n\n    public IObservable<AnimatorStateInfo> OnStateIKObservable => onStateIKSubject;\n\n    public override void OnStateIK(Animator animator, AnimatorStateInfo stateInfo, int layerIndex)\n    {\n        onStateIKSubject.OnNext(stateInfo);\n    }\n    #endregion\n}\n")),(0,i.kt)("p",null,"\uc774\ud6c4 \uc544\ub798\uc640 \uac19\uc774 \uc0ac\uc6a9\ud558\uace0 \uc2f6\uc740 Observable\uc744 \ucde8\ub4dd\ud574\uc11c Subscribe \ud558\uba74 \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,i.kt)("p",null,"Observable\ub85c \uc2a4\ud14c\uc774\ud2b8 \ubcc0\ud654\ub97c \uac10\uc9c0\ud55c\ud6c4 ",(0,i.kt)("a",{parentName:"p",href:"https://docs.unity3d.com/kr/current/ScriptReference/AnimatorStateInfo-shortNameHash.html"},"shortNameHash"),"\ub97c \ucd9c\ub825\ud558\ub294 \uc608\uc81c"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-csharp"},"private Animator _animator;\nprivate StateMachineObservables _stateMachineObservables;\n\nprivate void Start()\n{\n    _animator = GetComponent<Animator>();\n    _stateMachineObservables = _animator.GetBehaviour<StateMachineObservables>();\n    \n    // \uc2dc\uc791\ud55c \uc560\ub2c8\uba54\uc774\uc158\uc758 shortNameHash\ub97c \ubcf4\uc5ec\uc900\ub2e4.\n    _stateMachineObservables\n        .OnStateEnterObservable\n        .Subscribe(stateInfo => Debug.Log(stateInfo.shortNameHash));\n}\n")),(0,i.kt)("br",null),(0,i.kt)("h2",{id:"unirx\uc5d0\uc11c-\uc0c1\ud0dc-\ubcc0\ud654\ub97c-\uc81c\uc5b4\ud574-\ubcf4\uc790"},"UniRx\uc5d0\uc11c \uc0c1\ud0dc \ubcc0\ud654\ub97c \uc81c\uc5b4\ud574 \ubcf4\uc790"),(0,i.kt)("p",null,'"Idle \uc560\ub2c8\uba54\uc774\uc158\uc774 5\ucd08 \uc774\uc0c1 \uc7ac\uc0dd\ub418\uba74 Rest \uc0c1\ud0dc\ub85c \ubcc0\uacbd \ub418\ub294 \ub85c\uc9c1"'),(0,i.kt)("p",null,"\uc740 \uc0c1\ud0dc \ubcc0\ud654\ub97c \ubc29\uae08 \uc804\uc758 StateMachineObservables\ub97c \uc0ac\uc6a9\ud558\uba74 \uc774\ub7f0 \uc2dd\uc73c\ub85c \uc791\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-csharp"},'private Animator _animator;\nprivate StateMachineObservables _stateMachineObservables;\n\nprivate void Start()\n{\n    _animator = GetComponent<Animator>();\n    _stateMachineObservables = _animator.GetBehaviour<StateMachineObservables>();\n    \n    _stateMachineObservables\n        .OnStateEnterObservable                           // \uc0c1\ud0dc \ubcc0\ud654\ub97c \uac10\uc9c0\n        .Throttle(TimeSpan.FromSeconds(5))                // \ub9c8\uc9c0\ub9c9 \uc0c1\ud0dc \ubcc0\ud654 \ud6c4 5\ucd08 \uacbd\uacfc\ud588\uc744 \ub54c\n        .Where(x => x.IsName("Base Layer.Idle"))          // \ud604\uc7ac \uc7ac\uc2f1\uc911\uc778 \uc560\ub2c8\uba54\uc774\uc158\uc774 Base Layer\uc758 Idle\uc774\ub77c\uba74\n        .Subscribe(_ => _animator.SetBool("Rest", true)); // Animator\uc758 Rest \ud30c\ub77c\ubbf8\ud130\ub97c True\ub85c \ud55c\ub2e4.\n}\n')),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(29505).Z,width:"913",height:"761"})),(0,i.kt)("p",null,"Idle (\uae30\ubcf8) \uc0c1\ud0dc\uc5d0\uc11c 5 \ucd08 \uac00 \uc9c0\ub098\uba74 Rest (\ud734\uc2dd) \ubaa8\uc158\uc744 \uc7ac\uc0dd\ud558\ub3c4\ub85d \ud560 \uc218 \uc788\uc5c8\uc2b5\ub2c8\ub2e4."),(0,i.kt)("br",null),(0,i.kt)("h2",{id:"\uc5ed\uc8fc-\ucd94\uac00\ub0b4\uc6a9-190928"},"\uc5ed\uc8fc: \ucd94\uac00\ub0b4\uc6a9 (19.09.28)"),(0,i.kt)("p",null,"UniRx\uac00 \uc5c5\ub370\uc774\ud2b8 \ub418\uba74\uc11c, \uae30\ubcf8\uc801\uc73c\ub85c \uc81c\uacf5\ub418\ub294 Trigger \ud074\ub798\uc2a4\ub4e4\uc774 \ucd94\uac00\ub418\uace0, \uac12\uc758 \ubcc0\ud654\ub97c \uac10\uc9c0\ud558\ub294 \ubd80\ubd84\uc744 \uc81c\uacf5\ub418\ub294 \ud074\ub798\uc2a4\ub4e4\uc744 \uc0ac\uc6a9\ud558\uc5ec \uad6c\ud604\ud560 \uc218 \uc788\uac8c \ub418\uc5c8\uc2b5\ub2c8\ub2e4. ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/neuecc/UniRx/blob/master/Assets/Plugins/UniRx/Scripts/UnityEngineBridge/Triggers/ObservableStateMachineTrigger.cs"},"ObservableStateMachineTrigger")," \uc2a4\ud06c\ub9bd\ud2b8\ub97c \uc0ac\uc6a9\ud558\uba74 \uc704 \ub0b4\uc6a9\uacfc \ub3d9\uc77c\ud55c \ub0b4\uc6a9\uc744 \ud074\ub798\uc2a4 \uad6c\ud604 \uc5c6\uc774 \uc0ac\uc6a9 \uac00\ub2a5 \ud569\ub2c8\ub2e4."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-csharp"},"// Unity5 \ubc84\uc804 \uc774\uc0c1\ubd80\ud130 \uc0ac\uc6a9 \uac00\ub2a5\ud558\ub2e4.\n#if !(UNITY_4_7 || UNITY_4_6 || UNITY_4_5 || UNITY_4_4 || UNITY_4_3 || UNITY_4_2 || UNITY_4_1 || UNITY_4_0_1 || UNITY_4_0 || UNITY_3_5 || UNITY_3_4 || UNITY_3_3 || UNITY_3_2 || UNITY_3_1 || UNITY_3_0_0 || UNITY_3_0 || UNITY_2_6_1 || UNITY_2_6)\n\nusing System; // \uc708\ub3c4\uc6b0 \uc720\ub2c8\ubc84\uc15c \uc571\uc5d0\uc11c \uc694\uad6c\ub41c\ub2e4.\nusing UnityEngine;\n\nnamespace UniRx.Triggers\n{\n    [DisallowMultipleComponent]\n    public class ObservableStateMachineTrigger : StateMachineBehaviour\n    {\n        public class OnStateInfo\n        {\n            public Animator Animator { get; private set; }\n            public AnimatorStateInfo StateInfo { get; private set; }\n            public int LayerIndex { get; private set; }\n\n            public OnStateInfo(Animator animator, AnimatorStateInfo stateInfo, int layerIndex)\n            {\n                Animator = animator;\n                StateInfo = stateInfo;\n                LayerIndex = layerIndex;\n            }\n        }\n\n        public class OnStateMachineInfo\n        {\n            public Animator Animator { get; private set; }\n            public int StateMachinePathHash { get; private set; }\n\n            public OnStateMachineInfo(Animator animator, int stateMachinePathHash)\n            {\n                Animator = animator;\n                StateMachinePathHash = stateMachinePathHash;\n            }\n        }\n\n        // OnStateExit\n\n        Subject<OnStateInfo> onStateExit;\n\n        public override void OnStateExit(Animator animator, AnimatorStateInfo stateInfo, int layerIndex)\n        {\n            if (onStateExit != null) onStateExit.OnNext(new OnStateInfo(animator, stateInfo, layerIndex));\n        }\n\n        public IObservable<OnStateInfo> OnStateExitAsObservable()\n        {\n            return onStateExit ?? (onStateExit = new Subject<OnStateInfo>());\n        }\n\n        // OnStateEnter\n\n        Subject<OnStateInfo> onStateEnter;\n\n        public override void OnStateEnter(Animator animator, AnimatorStateInfo stateInfo, int layerIndex)\n        {\n            if (onStateEnter != null) onStateEnter.OnNext(new OnStateInfo(animator, stateInfo, layerIndex));\n        }\n\n        public IObservable<OnStateInfo> OnStateEnterAsObservable()\n        {\n            return onStateEnter ?? (onStateEnter = new Subject<OnStateInfo>());\n        }\n\n        // OnStateIK\n\n        Subject<OnStateInfo> onStateIK;\n\n        public override void OnStateIK(Animator animator, AnimatorStateInfo stateInfo, int layerIndex)\n        {\n            if(onStateIK !=null) onStateIK.OnNext(new OnStateInfo(animator, stateInfo, layerIndex));\n        }\n\n        public IObservable<OnStateInfo> OnStateIKAsObservable()\n        {\n            return onStateIK ?? (onStateIK = new Subject<OnStateInfo>());\n        }\n\n        // OnStateMove\uc5d0 \uc601\ud5a5\uc744 \ubbf8\uce58\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.\n        // ObservableStateMachine Trigger\ub294 \uc560\ub2c8\uba54\uc774\uc158\uc744 \uc911\uc9c0 \uc2dc\ud0b5\ub2c8\ub2e4.\n        // OnAnimatorMove\ub97c \uc815\uc758\ud568\uc73c\ub85c\uc368 \ub8e8\ud2b8 \uac1d\uccb4\uc758 \uc6c0\uc9c1\uc784\uc744 \uac00\ub85c \ucc44\uc11c \uc9c1\uc811 \uc801\uc6a9\ud558\uace0 \uc2f6\ub2e4\ub294 \uc758\ubbf8\uc785\ub2c8\ub2e4.\n        // http://fogbugz.unity3d.com/default.asp?700990_9jqaim4ev33i8e9h\n\n        //// OnStateMove\n\n        //Subject<OnStateInfo> onStateMove;\n\n        //public override void OnStateMove(Animator animator, AnimatorStateInfo stateInfo, int layerIndex)\n        //{\n        //    if (onStateMove != null) onStateMove.OnNext(new OnStateInfo(animator, stateInfo, layerIndex));\n        //}\n\n        //public IObservable<OnStateInfo> OnStateMoveAsObservable()\n        //{\n        //    return onStateMove ?? (onStateMove = new Subject<OnStateInfo>());\n        //}\n\n        // OnStateUpdate\n\n        Subject<OnStateInfo> onStateUpdate;\n\n        public override void OnStateUpdate(Animator animator, AnimatorStateInfo stateInfo, int layerIndex)\n        {\n            if (onStateUpdate != null) onStateUpdate.OnNext(new OnStateInfo(animator, stateInfo, layerIndex));\n        }\n\n        public IObservable<OnStateInfo> OnStateUpdateAsObservable()\n        {\n            return onStateUpdate ?? (onStateUpdate = new Subject<OnStateInfo>());\n        }\n\n        // OnStateMachineEnter\n\n        Subject<OnStateMachineInfo> onStateMachineEnter;\n\n        public override void OnStateMachineEnter(Animator animator, int stateMachinePathHash)\n        {\n            if (onStateMachineEnter != null) onStateMachineEnter.OnNext(new OnStateMachineInfo(animator, stateMachinePathHash));\n        }\n\n        public IObservable<OnStateMachineInfo> OnStateMachineEnterAsObservable()\n        {\n            return onStateMachineEnter ?? (onStateMachineEnter = new Subject<OnStateMachineInfo>());\n        }\n\n        // OnStateMachineExit\n\n        Subject<OnStateMachineInfo> onStateMachineExit;\n\n        public override void OnStateMachineExit(Animator animator, int stateMachinePathHash)\n        {\n            if (onStateMachineExit != null) onStateMachineExit.OnNext(new OnStateMachineInfo(animator, stateMachinePathHash));\n        }\n\n        public IObservable<OnStateMachineInfo> OnStateMachineExitAsObservable()\n        {\n            return onStateMachineExit ?? (onStateMachineExit = new Subject<OnStateMachineInfo>());\n        }\n    }\n}\n\n#endif\n")),(0,i.kt)("br",null),(0,i.kt)("h2",{id:"\ucc38\uace0"},"\ucc38\uace0"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://unity3d.com/kr/learn/tutorials/modules/beginner/5-pre-order-beta/state-machine-behaviours"},"State Machine Behaviours"))),(0,i.kt)("br",null),(0,i.kt)("h2",{id:"\uc0ac\uc6a9\ud55c-\uac83"},"\uc0ac\uc6a9\ud55c \uac83"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/neuecc/UniRx"},"UniRx")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"http://unity-chan.com/"},"\uc720\ub2c8\ud2f0\uc9f1"))),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(46160).Z,width:"140",height:"121"})))}b.isMDXComponent=!0},32610:(t,e,n)=>{n.d(e,{Z:()=>a});const a=n.p+"assets/images/2019-10-05-1-4908895c007addfa169054905f4a7524.png"},29505:(t,e,n)=>{n.d(e,{Z:()=>a});const a=n.p+"assets/images/2019-10-05-2-b25f7b162cb9e165d450b9d3f720867b.png"},46160:(t,e,n)=>{n.d(e,{Z:()=>a});const a=n.p+"assets/images/2019-10-05-3-f41ba0edf8d0481e229d2ccd2cbdfb0f.jpg"}}]);