"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[18069],{15680:(e,n,t)=>{t.d(n,{xA:()=>p,yg:()=>g});var r=t(96540);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var s=r.createContext({}),c=function(e){var n=r.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},p=function(e){var n=c(e.components);return r.createElement(s.Provider,{value:n},e.children)},u="mdxType",b={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},m=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),u=c(t),m=a,g=u["".concat(s,".").concat(m)]||u[m]||b[m]||i;return t?r.createElement(g,l(l({ref:n},p),{},{components:t})):r.createElement(g,l({ref:n},p))}));function g(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var i=t.length,l=new Array(i);l[0]=m;var o={};for(var s in n)hasOwnProperty.call(n,s)&&(o[s]=n[s]);o.originalType=e,o[u]="string"==typeof e?e:a,l[1]=o;for(var c=2;c<i;c++)l[c]=t[c];return r.createElement.apply(null,l)}return r.createElement.apply(null,t)}m.displayName="MDXCreateElement"},95716:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>l,default:()=>b,frontMatter:()=>i,metadata:()=>o,toc:()=>c});var r=t(58168),a=(t(96540),t(15680));const i={title:"[UniRx] \uc5f0\uc18d\ub41c OnNext\uc758 \ucd5c\ucd08 \uac12\ub9cc \ud758\ub9ac\ub294 \uc624\ud37c\ub808\uc774\ud130 ThrottleFirst",authors:["karais89"],tags:["unity3d","unirx"]},l=void 0,o={permalink:"/2019/10/12/UniRx-ThrottleFirst",editUrl:"https://github.com/karais89/karais89.github.io/tree/main/my-website/blog/2019-10-12-UniRx-ThrottleFirst/index.md",source:"@site/blog/2019-10-12-UniRx-ThrottleFirst/index.md",title:"[UniRx] \uc5f0\uc18d\ub41c OnNext\uc758 \ucd5c\ucd08 \uac12\ub9cc \ud758\ub9ac\ub294 \uc624\ud37c\ub808\uc774\ud130 ThrottleFirst",description:"\ud658\uacbd",date:"2019-10-12T00:00:00.000Z",formattedDate:"2019\ub144 10\uc6d4 12\uc77c",tags:[{label:"unity3d",permalink:"/tags/unity-3-d"},{label:"unirx",permalink:"/tags/unirx"}],readingTime:5.035,hasTruncateMarker:!1,authors:[{name:"karais89",title:"Game Developer",url:"https://github.com/karais89",imageURL:"https://github.com/karais89.png",key:"karais89"}],frontMatter:{title:"[UniRx] \uc5f0\uc18d\ub41c OnNext\uc758 \ucd5c\ucd08 \uac12\ub9cc \ud758\ub9ac\ub294 \uc624\ud37c\ub808\uc774\ud130 ThrottleFirst",authors:["karais89"],tags:["unity3d","unirx"]},prevItem:{title:"\uc2a4\ud06c\ub9bd\ud2b8 \ucc98\ub9ac \uc2dc\uc810\uc744 \uc870\uc791\ud55c\ub2e4",permalink:"/2019/10/12/UniRx-Script-Processing-Time"},nextItem:{title:"Subscribe\uc758 Dispose\ub97c GameObject\uc5d0 \uc5f0\uacb0 \uc2dc\ud0a8\ub2e4.",permalink:"/2019/10/10/UniRx-Connect-the-Dispose-of-the-Subscribe-to-the-GameObject"}},s={authorsImageUrls:[void 0]},c=[{value:"\ud658\uacbd",id:"\ud658\uacbd",level:2},{value:"UniRx\uc5d0\uc11c ThrottleFirst",id:"unirx\uc5d0\uc11c-throttlefirst",level:2},{value:"\uc0ac\uc6a9 \uc0ac\ub840",id:"\uc0ac\uc6a9-\uc0ac\ub840",level:2}],p={toc:c},u="wrapper";function b(e){let{components:n,...i}=e;return(0,a.yg)(u,(0,r.A)({},p,i,{components:n,mdxType:"MDXLayout"}),(0,a.yg)("h2",{id:"\ud658\uacbd"},"\ud658\uacbd"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"macOS Mojave v10.14.6"),(0,a.yg)("li",{parentName:"ul"},"Unity 2019.2.5f1"),(0,a.yg)("li",{parentName:"ul"},"Github Desktop"),(0,a.yg)("li",{parentName:"ul"},"Rider 2019.2"),(0,a.yg)("li",{parentName:"ul"},"UniRx v7.1.0")),(0,a.yg)("p",null,"\uc6d0\ubb38 : ",(0,a.yg)("a",{parentName:"p",href:"https://qiita.com/toRisouP/items/fe52e1582c14782af3ac"},"https://qiita.com/toRisouP/items/fe52e1582c14782af3ac")),(0,a.yg)("p",null,"\uc774 \ud3ec\uc2a4\ud305\uc740 \uc6d0\ubb38\uc744 \ub2e8\uc21c\ud788 \uad6c\uae00 \ubc88\uc5ed\uc744 \ud558\uc5ec \uc815\ub9ac\ud55c \ub0b4\uc6a9\uc785\ub2c8\ub2e4. \uc77c\ubcf8\uc5b4\ub97c \uc798\ud558\uc2dc\ub294 \ubd84\uc740 \uc6d0\ubb38\uc744 \ubcf4\uc2dc\ub294\uac8c \ub354 \uc88b\uc73c\uc2e4 \uac83 \uac19\uc2b5\ub2c8\ub2e4. "),(0,a.yg)("p",null,"UniRx\uc5d0 \ub300\ud55c \uae30\uc0ac \uc694\uc57d\uc740 ",(0,a.yg)("a",{parentName:"p",href:"https://qiita.com/toRisouP/items/48b9fa25df64d3c6a392"},"\uc5ec\uae30")),(0,a.yg)("hr",null),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"UniRx \ucd5c\uc2e0 \ubc84\uc804\ubd80\ud130 ThrottleFirst\uac00 \ucd94\uac00 \ub418\uc5c8\uc2b5\ub2c8\ub2e4! (",(0,a.yg)("a",{parentName:"strong",href:"https://github.com/neuecc/UniRx/blob/4.8.1/Assets/UniRx/Scripts/Observable.Time.cs#L386-L389"},"UniRx 4.8.1 \uc774\uc0c1 \ubc84\uc804"),")")),(0,a.yg)("p",null,"\uc5ed\uc8fc: ",(0,a.yg)("a",{parentName:"p",href:"https://github.com/neuecc/UniRx/blob/4.8.2/Assets/UniRx/Scripts/UnityEngineBridge/Observable.Unity.cs#L556-L608"},"ThrottleFirstFrame"),"\ub3c4 4.8.1 \uc774\uc0c1 \ubc84\uc804\uc5d0\uc11c \ucd94\uac00 \ub418\uc5c8\uc2b5\ub2c8\ub2e4!"),(0,a.yg)("p",null,'\uac8c\uc784 \uac1c\ubc1c\uc5d0\uc11c "\uc5b4\ub5a4 \ucc98\ub9ac\ub97c \ud558\uace0 \ub098\uc11c \ud55c\ub3d9\uc548\uc740 \uc774\ubca4\ud2b8\ub97c \ubb34\uc2dc\ud558\uace0 \uc2f6\ub2e4", "\uc774\ubca4\ud2b8\uac00 \ub9ce\uc774 \uc654\uc744 \ub54c \ucc98\uc74c\ub9cc \ucc98\ub9ac\ud558\uace0 \ub098\uba38\uc9c0\ub294 \ub2f9\ubd84\uac04 \ubb34\uc2dc\ud558\uace0 \uc2f6\ub2e4"\ub294 \uc218\uc694\ub294 \ub9ce\uc744 \uac83\uc774\ub77c\uace0 \uc0dd\uac01\ud569\ub2c8\ub2e4.'),(0,a.yg)("p",null,'(\uc608\ub97c \ub4e4\uc5b4 "\ubc84\ud2bc\uc744 \uae38\uac8c \ub20c\ub7ec \uc774\ubca4\ud2b8\ub97c 300\ubc00\ub9ac \ucd08 \uac04\uaca9\uc73c\ub85c \uc18e\uc544 \ub0b4\uace0 \uc2f6\ub2e4", "\ub9c8\uc9c0\ub9c9\uc73c\ub85c \uc560\ub2c8\uba54\uc774\uc158 \uc774\ubca4\ud2b8\uac00 \uc624\uace0 \ub098\uc11c 3\ucd08 \ub3d9\uc548 \uc774\ubca4\ud2b8\ub97c \ubb34\uc2dc\ud558\uace0 \uc2f6\ub2e4" \ub4f1)'),(0,a.yg)("p",null,(0,a.yg)("del",{parentName:"p"},"\uae30\uc874\uc758 Rx\uc758 \uc624\ud37c\ub808\uc774\ud130 \uc870\ud569\uc73c\ub85c\ub3c4 \uad6c\ud604 \ud560 \uc218 \uc788\uc9c0\ub9cc, \uc790\uc8fc \uc0ac\uc6a9\ub418\ub294 \ub9cc\ud07c \uc804\uc6a9 \uc624\ud37c\ub808\uc774\ud130\ub97c \uac00\uc9c0\uace0 \uc2f6\uc5c8\uc2b5\ub2c8\ub2e4. \uadf8\ub798\uc11c Throttle\ub97c \ubc14\ud0d5\uc744 \ud558\uc5ec \uc81c\uc791 \ud558\uc600\uc2b5\ub2c8\ub2e4.")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},'RxJS \ub4f1\uc5d0\ub294 "',(0,a.yg)("a",{parentName:"strong",href:"http://reactivex.io/documentation/operators/sample.html"},"ThrottleFirst"),'"\ub77c\ub294 \uc774\ub984\uc73c\ub85c \uac19\uc740 \ub3d9\uc791\uc744 \ud558\ub294 \uc624\ud37c\ub808\uc774\ud130\uac00 \uc874\uc7ac\ud558\uace0 \uc788\uc5c8\uc2b5\ub2c8\ub2e4.')),(0,a.yg)("p",null,(0,a.yg)("img",{src:t(9765).A,width:"1280",height:"610"})),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"http://reactivex.io/"},"\uc774\ubbf8\uc9c0\ub294 ReactiveX\uc5d0\uc11c \uc778\uc6a9")),(0,a.yg)("h2",{id:"unirx\uc5d0\uc11c-throttlefirst"},"UniRx\uc5d0\uc11c ThrottleFirst"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-cs"},"using System;\nnamespace UniRx\n{\n    public static partial class Observable\n    {\n        public static IObservable<TSource> ThrottleFirst<TSource>(this IObservable<TSource> source, TimeSpan dueTime)\n        {\n            return source.ThrottleFirst(dueTime, Scheduler.DefaultSchedulers.TimeBasedOperations);\n        }\n\n        public static IObservable<TSource> ThrottleFirst<TSource>(this IObservable<TSource> source, TimeSpan dueTime, IScheduler scheduler)\n        {\n            return new AnonymousObservable<TSource>(observer =>\n            {\n                var gate = new object();\n                var open = true;\n                var cancelable = new SerialDisposable();\n\n                var subscription = source.Subscribe(x =>\n                {\n                    lock (gate)\n                    {\n                        if (!open) return;\n                        observer.OnNext(x);\n                        open = false;\n                    }\n\n                    var d = new SingleAssignmentDisposable();\n                    cancelable.Disposable = d;\n                    d.Disposable = scheduler.Schedule(dueTime, () =>\n                    {\n                        lock (gate)\n                        {\n                            open = true;\n                        }\n                    });\n\n                },\n                    exception =>\n                    {\n                        cancelable.Dispose();\n\n                        lock (gate)\n                        {\n                            observer.OnError(exception);\n                        }\n                    },\n                    () =>\n                    {\n                        cancelable.Dispose();\n\n                        lock (gate)\n                        {\n                            observer.OnCompleted();\n\n                        }\n                    });\n\n                return new CompositeDisposable(subscription, cancelable);\n            });\n        }\n\n        public static IObservable<TSource> ThrottleFirstFrame<TSource>(this IObservable<TSource> source, int frameCount,\n            FrameCountType frameCountType = FrameCountType.Update)\n        {\n            return new AnonymousObservable<TSource>(observer =>\n            {\n                var gate = new object();\n                var open = true;\n                var cancelable = new SerialDisposable();\n\n                var subscription = source.Subscribe(x =>\n                {\n                    lock (gate)\n                    {\n                        if (!open) return;\n                        observer.OnNext(x);\n                        open = false;\n                    }\n\n                    var d = new SingleAssignmentDisposable();\n                    cancelable.Disposable = d;\n\n                    d.Disposable = Observable.TimerFrame(frameCount, frameCountType)\n                        .Subscribe(_ =>\n                        {\n                            lock (gate)\n                            {\n                                open = true;\n                            }\n                        });\n                },\n                    exception =>\n                    {\n                        cancelable.Dispose();\n\n                        lock (gate)\n                        {\n                            observer.OnError(exception);\n                        }\n                    },\n                    () =>\n                    {\n                        cancelable.Dispose();\n\n                        lock (gate)\n                        {\n                            observer.OnCompleted();\n\n                        }\n                    });\n\n                return new CompositeDisposable(subscription, cancelable);\n            });\n        }\n    }\n}\n")),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"ThrottleFirst (OnNext\ub97c \ubb34\uc2dc\ud558\ub294 \uc2dc\uac04)"),(0,a.yg)("li",{parentName:"ul"},"ThrottleFirstFrame (OnNext\ub97c \ubb34\uc2dc\ud558\ub294 \ud504\ub808\uc784 \uc218)")),(0,a.yg)("p",null,"\ub458 \ub2e4 \uccab \ubc88\uc9f8\ub294 \ubc18\ub4dc\uc2dc OnNext\ub97c \ud1b5\uacfc \uc2dc\ud0b5\ub2c8\ub2e4."),(0,a.yg)("p",null,"2 \ubc88\uc9f8 \uc774\ud6c4\uc758 OnNext \ub0b4\uc6a9\uc740 \ub9c8\uc9c0\ub9c9\uc73c\ub85c OnNext\ub97c \ud1b5\uacfc\uc2dc\ud0a8 \ud6c4 \uc77c\uc815 \uc2dc\uac04 \uacbd\uacfc \ud560 \ub54c\uae4c\uc9c0 OnNext\ub97c \ud758\ub9ac\uc9c0 \uc54a\uace0 \ubc84\ub9ac\ub3c4\ub85d \ucc98\ub9ac\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4."),(0,a.yg)("p",null,"\uc608\ub97c \ub4e4\uc5b4 ",(0,a.yg)("inlineCode",{parentName:"p"},"ThrottleFirst(TimeSpan.FromSeconds(1))")," \uc640 \uac19\uc740 \uc9c0\uc815 \ubc29\ubc95\uc744 \ud55c \uacbd\uc6b0\uc5d0\ub294 \uba54\uc2dc\uc9c0\uac00 1\ucd08 \uc774\ub0b4\uc5d0 \uc5f0\uc18d \ud574 \uc628 \uacbd\uc6b0\ub294 \ucc98\uc74c\uc5d0\ub9cc \ud1b5\uacfc\ud558\uace0 \uadf8 \uc774\uc678\ub294 \ubb34\uc2dc\ud558\uac8c \ub429\ub2c8\ub2e4."),(0,a.yg)("p",null,"\uc5ed\uc8fc"),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"http://neue.cc/2010/07/05_265.html"},"AnonymousObservable")," \ud074\ub798\uc2a4\uc5d0 \ub300\ud55c \uc815\uccb4\uac00 \uad81\uae08\ud558\ub2e4. (C# Rx\uc5d0\uc11c \uae30\ubcf8\uc801\uc73c\ub85c \uc81c\uacf5\ud574\uc8fc\ub294 \ud074\ub798\uc2a4\ub97c UniRx \uc0c1\uc5d0\uc11c\ub3c4 \uc0ac\uc6a9\ud560 \uc218 \uc788\uac8c \uad6c\ud604\ub41c \ud074\ub798\uc2a4 \uc778 \uac83 \uac19\ub2e4. \uc775\uba85 \ud568\uc218 \uac1c\ub150\uacfc \ube44\uc2b7\ud55c \ub290\ub08c\uc774\ub77c\uace0 \uc0dd\uac01\ud558\uba74 \ub420 \uac83 \uac19\ub2e4. Observable\uc740 \ub9cc\ub4e4\uace0 \uc2f6\uc9c0\ub9cc, \uc774\ub984\uc740 \uc9c0\uc5b4 \uc8fc\uace0 \uc2f6\uc9c0 \uc54a\uc740 \uacbd\uc6b0 \uc0ac\uc6a9\ud558\ub294 \uc6a9\ub3c4)"),(0,a.yg)("p",null,"UniRx 5.0 \uc774\uc0c1 \ubc84\uc804 \ubd80\ud130\ub294 \uc624\ud37c\ub808\uc774\ud130\ub97c \uc0dd\uc131\ud558\ub294 \uad6c\uc870\uac00 \ubcc0\ud568. \uc704 \ud074\ub798\uc2a4\ub97c \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uace0, \uac01\uac01\uc758 \uc624\ud37c\ub808\uc774\ud130\uc5d0 \ud574\ub2f9\ub418\ub294 Observable \ud074\ub798\uc2a4\ub97c \ub530\ub85c \ub9cc\ub4dc\ub294 \uad6c\uc870 (OperatorObservableBase\ub97c \uc0c1\uc18d \ubc1b\uace0, \ud544\uc694\ud55c \ub0b4\uc6a9\ub4e4\uc744 \uad6c\ud604 \ud558\ub294 \ubc29\uc2dd) \uac1c\uc778\uc801\uc73c\ub85c\ub294 \ubc14\ub010 \uad6c\uc870\uac00 \ub354 \uae54\ub054\ud55c \ub290\ub08c\uc774 \ub4e0\ub2e4."),(0,a.yg)("h2",{id:"\uc0ac\uc6a9-\uc0ac\ub840"},"\uc0ac\uc6a9 \uc0ac\ub840"),(0,a.yg)("p",null,"\ud074\ub9ad \ub418\uace0 \ub098\uc11c 5\ucd08 \ub3d9\uc548 \ud074\ub9ad\uc744 \ubb34\uc2dc\ud558\ub294 \uc608\uc81c"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-cs"},'this.UpdateAsObservable()\n    .Where(_=>Input.GetMouseButtonDown(0))\n    .ThrottleFirst(TimeSpan.FromSeconds(5))\n    .Subscribe(x => Debug.Log("Clicked!"));\n')),(0,a.yg)("p",null,"\uc5c5\ub370\uc774\ud2b8\ub97c 1/10\ub85c \uc18e\uc544 \ub0b4\ub294 \uc608\uc81c (9\ud68c Update\uac00 \uc62c \ub54c\uae4c\uc9c0 \ubb34\uc2dc)"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-cs"},'this.UpdateAsObservable()\n    .ThrottleFirstFrame(9)\n    .Subscribe(x => Debug.Log("tenth part Update"));\n')))}b.isMDXComponent=!0},9765:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/2019-10-12-1-0ca0e06de3ca01c89a9fb441fbf9dd5c.png"}}]);